<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MY ALLY TEST</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/style.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.9/brython.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.9/brython_stdlib.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/css">
        .content {
            margin-top: 56px;
        }

    </script>

</head>
<body onload="brython()">

<nav class="navbar navbar-light bg-light">
  <a class="navbar-brand" href="index.html">MY ALLY: Testing Assistive Features and Prognostication</a>
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="/upload.html">PDF READER</a>
      </li>
    </ul>
</nav>


<div class="content">
    <div class="container ">
        <form class="was-validated">

            <div class="custom-file">
                <input type="file" class="custom-file-input" id="validatedCustomFile" REQUIRED>
                <label class="custom-file-label" for="validatedCustomFile">Choose file...</label>
                <div class="invalid-feedback">Upload your PDF File</div>
            </div>

        </form>

        <h1 class="display-4">TXT FILE VIEW</h1>

        <input type="file" id="upload-txt">
        <br/>
        <textarea id="txt" cols="136" rows="10"></textarea>
    </div>

</div>


<!-- brython: assume it as an "input text" and convert it to speech-->

    <!-- Load file data -->
    <script type="text/python" id="script4">
        from browser import document, window

        def print_txt(e):
            def onload(e):
                document['txt'].value = e.target.result

            file = document['upload-txt'].files[0]
            reader = window.FileReader.new()
            reader.readAsText(file)
            reader.bind('load', onload)

        document['upload-txt'].bind('input', print_txt)
    </script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>